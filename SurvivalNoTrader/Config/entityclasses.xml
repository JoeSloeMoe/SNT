 <configs>
	<!--lootbag time alive-->
	<set xpath="/entity_classes/entity_class[@name='DroppedLootContainer']/property[@name='TimeStayAfterDeath']/@value">5800</set>
	<set xpath="/entity_classes/entity_class[starts-with(@name, 'EntityLootContainer')]/property[@name='TimeStayAfterDeath']/@value">5800</set>
	
	<!--storm effect code added to animalTemplateHostile and zombieTemplateMale.
		NOTE: storm effect code is also added to the player which overrides the games storm code buff.xml:buffBurnt_Storm etc.-->
	<append xpath="/entity_classes/entity_class[@name='zombieTemplateMale']">
		<effect_group>
			<requirement name="InBiome" biome="9"/> <!-- burnt_forest -->
			<!--true when the player is in the burnt biome and a storm is in effect-->
			<requirement name="HasBuff" target="other" buff="buffBurnt_Storm"/>
				<passive_effect name="EntityDamage" operation="perc_add" value="0.05"/>
				<passive_effect name="BlockDamage" operation="perc_add" value="0.05"/>
				<passive_effect name="HealthMax" operation="perc_add" value="0.05"/>
		</effect_group>
		<effect_group>
			<requirement name="InBiome" biome="5"/><!-- desert -->
			<!--true when the player is in the desert biome and a storm is in effect-->
			<requirement name="HasBuff" target="other" buff="buffDesert_Storm"/>
				<passive_effect name="EntityDamage" operation="perc_add" value="0.1"/>
				<passive_effect name="BlockDamage" operation="perc_add" value="0.1"/>
				<passive_effect name="HealthMax" operation="perc_add" value="0.1"/>
		</effect_group>
		<effect_group>
			<requirement name="InBiome" biome="1"/><!-- snow -->
			<!--true when the player is in the snow biome and a storm is in effect-->
			<requirement name="HasBuff" target="other" buff="buffSnow_StormName"/>
				<passive_effect name="EntityDamage" operation="perc_add" value="0.15"/>
				<passive_effect name="BlockDamage" operation="perc_add" value="0.15"/>
				<passive_effect name="HealthMax" operation="perc_add" value="0.15"/>
		</effect_group>
		<effect_group>
			<requirement name="InBiome" biome="8"/><!-- wasteland -->
			<!--true when the player is in the wasteland biome and a storm is in effect-->
			<requirement name="HasBuff" target="other" buff="buffWasteland_Storm"/>
				<passive_effect name="EntityDamage" operation="perc_add" value="0.2"/>
				<passive_effect name="BlockDamage" operation="perc_add" value="0.2"/>
				<passive_effect name="HealthMax" operation="perc_add" value="0.2"/>
		</effect_group>
	</append>
	<append xpath="/entity_classes/entity_class[@name='animalTemplateHostile']">
		<effect_group>
			<requirement name="InBiome" biome="9"/> <!-- burnt_forest -->
			<!--true when the player is in the burnt biome and a storm is in effect-->
			<requirement name="HasBuff" target="other" buff="buffBurnt_Storm"/>
				<passive_effect name="EntityDamage" operation="perc_add" value="0.05"/>
				<passive_effect name="BlockDamage" operation="perc_add" value="0.05"/>
				<passive_effect name="HealthMax" operation="perc_add" value="0.05"/>
		</effect_group>
		<effect_group>
			<requirement name="InBiome" biome="5"/><!-- desert -->
			<!--true when the player is in the desert biome and a storm is in effect-->
			<requirement name="HasBuff" target="other" buff="buffDesert_Storm"/>
				<passive_effect name="EntityDamage" operation="perc_add" value="0.1"/>
				<passive_effect name="BlockDamage" operation="perc_add" value="0.1"/>
				<passive_effect name="HealthMax" operation="perc_add" value="0.1"/>
		</effect_group>
		<effect_group>
			<requirement name="InBiome" biome="1"/><!-- snow -->
			<!--true when the player is in the snow biome and a storm is in effect-->
			<requirement name="HasBuff" target="other" buff="buffSnow_StormName"/>
				<passive_effect name="EntityDamage" operation="perc_add" value="0.15"/>
				<passive_effect name="BlockDamage" operation="perc_add" value="0.15"/>
				<passive_effect name="HealthMax" operation="perc_add" value="0.15"/>
		</effect_group>
		<effect_group>
			<requirement name="InBiome" biome="8"/><!-- wasteland -->
			<!--true when the player is in the wasteland biome and a storm is in effect-->
			<requirement name="HasBuff" target="other" buff="buffWasteland_Storm"/>
				<passive_effect name="EntityDamage" operation="perc_add" value="0.2"/>
				<passive_effect name="BlockDamage" operation="perc_add" value="0.2"/>
				<passive_effect name="HealthMax" operation="perc_add" value="0.2"/>
		</effect_group>
	</append>
	
	<!--Grim Tales code-->
	
	<!--Mary's revenge code-->
	<!--append the nav_objects.xml:screamerTrackingSNT nav object to screamers.
		For Magrat's Left Eye - Mary's revenge story.
		Magrat's Left Eye gives a buff that auto tracks screamers.-->
	<append xpath="/entity_classes/entity_class[@name='zombieScreamer']">
		<property name="NavObject" value="screamerTrackingSNT" />
	</append>
	<append xpath="/entity_classes/entity_class[@name='zombieScreamerFeral']">
		<property name="NavObject" value="screamerTrackingSNT" />
	</append>
	<append xpath="/entity_classes/entity_class[@name='zombieScreamerRadiated']">
		<property name="NavObject" value="screamerTrackingSNT" />
	</append>
	<!--append the trackingSNT tag to screamers-->
	<append xpath="/entity_classes/entity_class[@name='zombieScreamer']/property[@name='Tags']/@value">,trackingSNT</append>
	<append xpath="/entity_classes/entity_class[@name='zombieScreamerFeral']/property[@name='Tags']/@value">,trackingSNT</append>
	<append xpath="/entity_classes/entity_class[@name='zombieScreamerRadiated']/property[@name='Tags']/@value">,trackingSNT</append>
	<append xpath="/entity_classes/entity_class[@name='zombieScreamerCharged']/property[@name='Tags']/@value">,trackingSNT</append>
	
	<append xpath="/entity_classes">

		<!--screamer spawned when the player clears Coven House : doesnt drop loot on death -->
		<entity_class name="marysRevengeCovenHouseScreamer" extends="zombieScreamer">
			<property name="Tags" value="entity,zombie,walker,trackingCovenHouse"/>
			<property name="NavObject" value="screamerTrackingCovenHouse" />
			<property name="AIFeralSense" value="1.8"/>
			<property name="AITask-1" value="BreakBlock"/>
			<property name="AITask-2" value="Territorial"/>
			<property name="AITask-3" value="ApproachAndAttackTarget" data="class=EntityPlayer,200"/> 
			<property name="AITask-4" value="ApproachSpot"/>
			<property name="AITask-5" value=""/>
			<property name="AITarget-1" value="SetAsTargetIfHurt" data="class=EntityPlayer"/>
			<property name="AITarget-2" value="BlockingTargetTask"/>
			<property name="AITarget-3" value="SetNearestEntityAsTarget" data="class=EntityPlayer,100,100"/>
			<property name="AITarget-4" value=""/> 

			<property name="ExperienceGain" value="1600"/>
			<property name="LootDropProb" value="0"/>
			<property name="MoveSpeedAggro" value="0.6, 1.45"/> <!-- fit, feral -->
			<property name="JumpMaxDistance" value="4.6, 5"/>
			
			<effect_group name="Base Effects">
				<passive_effect name="HealthMax" operation="base_set" value="200"/>
			</effect_group>
		</entity_class>		
		
		<!--Loot bag for marysRevengeCovenHouseLootScreamer defined below-->
		<entity_class name="EntityMarysRevengeCovenHouseLoot">
			<property name="Class" value="EntityLootContainer"/>
			<property name="Tags" value="trackingCovenHouseLoot"/>
			<property name="NavObject" value="lootbagTrackingCovenHouse" />
			<property name="UserSpawnType" value="Console"/>
			<property name="Mesh" value="@:Entities/LootContainers/zpackRedPrefab.prefab"/>
			<property name="ModelType" value="Custom"/>
			<property name="Prefab" value="Backpack"/>
			<property name="Parent" value="Backpack"/>
			<property name="IsEnemyEntity" value="false"/>
			<property name="TimeStayAfterDeath" value="6000"/>
			<property name="Faction" value="none"/>
			<property name="LootListOnDeath" value="marysRevengeCovenHouseLoot"/>
		</entity_class>
		
		<!--screamer spawned when the player clears Coven House : drops loot on death-->
		<entity_class name="marysRevengeCovenHouseLootScreamer" extends="zombieScreamer">
			<property name="Tags" value="entity,zombie,walker,trackingCovenHouse"/>
			<property name="NavObject" value="screamerTrackingCovenHouse" />
			
			<property name="AIFeralSense" value="1.8"/>
			<property name="AITask-1" value="BreakBlock"/>
			<property name="AITask-2" value="Territorial"/>
			<property name="AITask-3" value="ApproachAndAttackTarget" data="class=EntityPlayer,200"/> 
			<property name="AITask-4" value="ApproachSpot"/>
			<property name="AITask-5" value=""/>
			<property name="AITarget-1" value="SetAsTargetIfHurt" data="class=EntityPlayer"/>
			<property name="AITarget-2" value="BlockingTargetTask"/>
			<property name="AITarget-3" value="SetNearestEntityAsTarget" data="class=EntityPlayer,100,100"/>
			<property name="AITarget-4" value=""/> 

			<property name="ExperienceGain" value="1600"/>
			<property name="LootDropEntityClass" value="EntityMarysRevengeCovenHouseLoot"/>
			<property name="LootDropProb" value="1"/>
			<property name="MoveSpeedAggro" value="0.6, 1.45"/> <!-- fit, feral -->
			<property name="JumpMaxDistance" value="4.6, 5"/>
			
			<effect_group name="Base Effects">
				<passive_effect name="HealthMax" operation="base_set" value="800"/>
			</effect_group>
		</entity_class>	
		
		
		<!--screamer that protects Magrats sister's grave-->
		<!--the player gets an artifact from the grave to summon the final boss (Magrat)-->
		
		<entity_class name="marysRevengeGraveScreamer" extends="zombieScreamerRadiated">
			<property name="AIFeralSense" value="1.8"/>
			<property name="AITask-1" value="BreakBlock"/>
			<property name="AITask-2" value="Territorial"/>
			<property name="AITask-3" value="ApproachAndAttackTarget" data="class=EntityPlayer,200"/> 
			<property name="AITask-4" value="ApproachSpot"/>
			<property name="AITask-5" value=""/>
			<property name="AITarget-1" value="SetAsTargetIfHurt" data="class=EntityPlayer"/>
			<property name="AITarget-2" value="BlockingTargetTask"/>
			<property name="AITarget-3" value="SetNearestEntityAsTarget" data="class=EntityPlayer,100,100"/>
			<property name="AITarget-4" value=""/> 

			<property name="ExperienceGain" value="1600"/>
			<property name="LootDropProb" value="0"/>
			<property name="MoveSpeedAggro" value="0.6, 1.45"/> <!-- fit, feral -->
			<property name="JumpMaxDistance" value="4.6, 5"/>
			
			<effect_group name="Base Effects">
				<passive_effect name="HealthMax" operation="base_set" value="800"/>
				<triggered_effect trigger="onOtherDamagedSelf" action="ModifyCVar" target="self" cvar="RadiatedRegenAmount" operation="set" value="2.5"/>
				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="self" buff="buffRadiatedRegen"/>
			</effect_group>
		</entity_class>		
		
		<!--Loot bag for marysRevengeFinalBoss defined below-->
		<entity_class name="EntityMarysRevengeBossLoot">
			<property name="Class" value="EntityLootContainer"/>
			<property name="NavObject" value="screamerTrackingMagrat" />
			<property name="UserSpawnType" value="Console"/>
			<property name="Mesh" value="@:Entities/LootContainers/zpackRedPrefab.prefab"/>
			<property name="ModelType" value="Custom"/>
			<property name="Prefab" value="Backpack"/>
			<property name="Parent" value="Backpack"/>
			<property name="IsEnemyEntity" value="false"/>
			<property name="TimeStayAfterDeath" value="6000"/>
			<property name="Faction" value="none"/>
			<property name="LootListOnDeath" value="marysRevengeFinalBossLoot"/>
		</entity_class>
		
		<!--MINIONSPAWNS Marys Revenge final boss and minions. The minions are the exact same as the boss 
			but dont drop loot and dont vocalise. In the story, while marysRevengeFinalBoss is still alive,
			one or more marysRevengeFinalBossMinions will have a small chance to spawn every time a minion is damaged.
			
			Magrat 'SHOULD' spawn dopplegangers every few seconds while alive. However, using just xml, I cant find a way 
			for a zombie (Magrat) to spawn anything. I'm restricted to using quests to spawn entities 
			(for gameevents, the action <action class="SpawnEntity"> doesnt function so cant use an event to spawn entities).
			
			In xml, Magrat cant spawn entities because a zombie cant 'run' a quest. The quest must be given to the player not the zombie.
			The key is to know when to stop spawning Minions. There is a trigger set when Magrat dies but there is no way to know
			if a player has left the area and Magrat has despawned. (If a player leaves the area, the timing buff that is giving the quests to spawn 
			the minions would be the player's own buff not the zombies, and will continue spawning Minions wherever the player went until Magrat was dead, but Magrat has despawned). 
			
			So instead of a buff spawning a minion every few seconds while Magrat is alive, the code has a small chance to spawn 
			more minions each time one of Magrats existing Minions take damage. (so that Minions only spawn on a player action).
			
			In the story there is a side quest that gives the player an artifact (mod) that allows them to identify Magrat
			and ignore the minions. When a player has this mod they will focus fire on Magrat. This is why only the existing Minions 
			can spawn other minions when damaged rather than Magrat herself having a chance to spawn any on damage.
			
			-->
			
		<!--base template-->
		<entity_class name="marysRevengeFinalBossTemplate" extends="zombieTemplateMale">
			<property name="UserSpawnType" value="None"/>
			<property name="Tags" value="entity,zombie,walker,feral,radiated"/>
			<!--feral screamer skin, the feral eyes help with the Magrats Left Eye loot drop-->
			<property name="Mesh" value="@:Entities/Zombies/Screamer/ZScreamerFeral.prefab"/>
			<!--Just mumbles all the time-->
			<property name="SoundRandom" value="zombiefemalescoutroam"/>
			<property name="SoundAlert" value="zombiefemalescoutroam"/>
			<property name="SoundAttack" value="zombiefemalescoutroam"/>
			<property name="SoundHurt" value="zombiefemalescoutroam"/>
			<property name="SoundDeath" value="zombiefemalescoutroam"/>
			<property name="SoundSense" value="zombiefemalescoutroam"/>
	
			<property name="SoundFootstepModifier" value="Animals/Bear/bear_footstep"/>   <!--same as hawaiian-->
			<property name="ModelType" value="Standard"/>
			<property name="WalkType" value="2"/>  <!--wight walk type-->
			<property name="Mass" value="250"/>
			<property name="PhysicsBody" value="zombieFemaleFat"/>
			<property name="RootMotion" value="true"/>
			<property name="HasDeathAnim" value="true"/>
			<property name="DanceType" value="2" />
			<property name="StompsSpikes" value="true"/> <!--this is from demolisher-->
			
			<property name="SizeScale" value="1.1"/>
			<property name="LegCrawlerThreshold" value="0"/>
			<property name="LegCrippleThreshold" value="0"/>
			<property name="KnockdownProneDamageThreshold" value="0"/>
			<property name="KnockdownKneelDamageThreshold" value="0"/>
	
			<property name="LegsExplosionDamageMultiplier" value=".5"/>
			<property name="ArmsExplosionDamageMultiplier" value=".5"/>
			<property name="HeadExplosionDamageMultiplier" value=".5"/>
			<property name="ChestExplosionDamageMultiplier" value=".5"/>
			
			<property name="AIFeralSense" value="1.8"/>
			<property name="AITask-1" value="BreakBlock"/>
			<property name="AITask-2" value="Territorial"/>
			<property name="AITask-3" value="ApproachAndAttackTarget" data="class=EntityPlayer,200"/> 
			<property name="AITask-4" value="ApproachSpot"/>
			<property name="AITask-5" value=""/>
			<property name="AITarget-1" value="SetAsTargetIfHurt" data="class=EntityPlayer"/>
			<property name="AITarget-2" value="BlockingTargetTask"/>
			<property name="AITarget-3" value="SetNearestEntityAsTarget" data="class=EntityPlayer,100,100"/>
			<property name="AITarget-4" value=""/> 
	 
			<property name="DismemberMultiplierHead" value=".4"/>
			<property name="DismemberMultiplierArms" value=".4"/>
			<property name="DismemberMultiplierLegs" value=".4"/><!-- Radiated -->
			<property name="PainResistPerHit" value=".8"/><!-- Radiated -->
			
			<property name="HandItem" value="meleeHandZombieCopRadiated"/> <!--cop hands-->
			<property name="ExperienceGain" value="8000"/><!-- XP strong radiated -->
			<property name="LootDropProb" value="0"/>
			<property name="MoveSpeedAggro" value="0.6, 1.35"/> <!-- fit, feral -->
			<property name="JumpMaxDistance" value="4.6, 5"/>
			
			<effect_group name="Base Effects2">
				<!--Originally minions had less HP than the boss (1000hp V 4000hp), but
				if a player is running a Health Bar mod then they would be able to 
				identify the real Magrat. So Magrat and Minions have same health. 
				A zombie bear has 4000HP for reference.-->	
				<passive_effect name="HealthMax" operation="base_set" value="3000"/> 
				<passive_effect name="BlockDamage" operation="perc_add" value="0.50"/> <!--increased block damage-->
				<passive_effect name="EntityDamage" operation="perc_add" value="0.30"/>
				<passive_effect name="PhysicalDamageResist" operation="base_set" value="15"/>
				<!--<triggered_effect trigger="onOtherDamagedSelf" action="ModifyCVar" target="self" cvar="RadiatedRegenAmount" operation="set" value="9"/>
				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="self" buff="buffRadiatedRegen-->
				<triggered_effect trigger="onSelfFirstSpawn" action="ModifyCVar" target="self" cvar="EntityBoss" operation="set" value="1"/>				
			</effect_group>

			<!-- Dismemberment -->
			<property name ="DismemberTag_L_HeadGore" value="Screamer/Blade/Head;Screamer/Blunt/Head" data="type=blade+target=neck+atp=true+detach=true;type=blunt+target=neck+atp=true"/>
			<property name ="DismemberTag_L_LeftLowerArmGore" value="Screamer/Blade/LeftLowerArm" data="type=blade+target=leftforearmroll+atp=true+detach=true+mask=true"/>
			<property name ="DismemberTag_L_LeftLowerLegGore" value="Screamer/Blade/LeftLowerLeg" data="type=blade+target=leftleg+detach=true+mask=true"/>
			<property name ="DismemberTag_L_LeftUpperArmGore" value="Screamer/Blade/LeftUpperArm" data="type=blade+target=leftarmroll+atp=true+detach=true+mask=true"/>
			<property name ="DismemberTag_L_RightLowerArmGore" value="Screamer/Blade/RightLowerArm" data="type=blade+target=rightforearmroll+atp=true+detach=true+mask=true"/>
			<property name ="DismemberTag_L_RightLowerLegGore" value="Screamer/Blade/RightLowerLeg" data="type=blade+target=rightleg+detach=true+mask=true"/>
			<property name ="DismemberTag_L_RightUpperArmGore" value="Screamer/Blade/RightUpperArm" data="type=blade+target=rightarmroll+atp=true+detach=true+mask=true"/>
			<property name ="DismemberTag_L_LeftUpperLegGore" value="linked" data="DismemberTag_L_LeftLowerLegGore"/>
			<property name ="DismemberTag_L_RightUpperLegGore" value="linked" data="DismemberTag_L_RightLowerLegGore"/>

		</entity_class>
		<!--The boss' minions - exactly the same for looks-->
		<!--NOTE: Minions have a chance to spawn other minions when damaged-->
		<entity_class name="marysRevengeFinalBossMinion" extends="marysRevengeFinalBossTemplate">
			<property name="UserSpawnType" value="Menu"/>
			<property name="Tags" value="magratt,entity,zombie,walker,feral,radiated"/>
			<!--feral screamer skin for looks, the feral eyes help with the Magrats Left Eye loot drop-->
			<property name="Mesh" value="@:Entities/Zombies/Screamer/ZScreamerFeral.prefab"/>
	
			<!--Just mumbles all the time-->
			<property name="SoundRandom" value="zombiefemalescoutroam"/>
			<property name="SoundAlert" value="zombiefemalescoutroam"/>
			<property name="SoundAttack" value="zombiefemalescoutroam"/>
			<property name="SoundHurt" value="zombiefemalescoutroam"/>
			<property name="SoundDeath" value="zombiefemalescoutroam"/>
			<property name="SoundSense" value="zombiefemalescoutroam"/>
			<property name="ExperienceGain" value="4000"/>
			<effect_group name="Effects">	
				<!--when a minion is damaged there is a small chance to spawn more minions.-->
				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="other" buff="buffMarysRevengeFinalMinionSummon">
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="7"/> <!--default 7%-->
				</triggered_effect>	
			</effect_group>
		</entity_class>
		
		<!--The final Mary's revenge Boss.
			This is the Cult Leader (High Priestess) and the cult uses the screamer template in the story.
			The final boss drops Magrat's Left Eye see items:magratsEye-->
		<entity_class name="marysRevengeFinalBoss" extends="marysRevengeFinalBossTemplate">
			<property name="UserSpawnType" value="Menu"/>
			<!--add the 'margat' tag to the boss - used in buffs.xml:buffMarysRevengeFinalBossSummon 
				to determine when the boss is dead-->
			<property name="Tags" value="magrat,entity,zombie,walker,feral,radiated"/>
			<!--feral screamer skin, the feral eyes help with the Magrats Left Eye loot drop-->
			<property name="Mesh" value="@:Entities/Zombies/Screamer/ZScreamerFeral.prefab"/>
			<!--this ties into the item_modifiers:modMagratTracker, see also nav_objects:screamerTrackingMagrat--> 
			<property name="NavObject" value="screamerTrackingMagrat" />
			<!--Just screams all the time-->
			<property name="SoundRandom" value="magratsScream"/>
			<property name="SoundAlert" value="magratsScream"/>
			<property name="SoundAttack" value="magratsScream"/>
			<property name="SoundHurt" value="magratsScream"/>
			<property name="SoundDeath" value="magratsScream"/>
			<property name="SoundSense" value="magratsScream"/>
	
			<property name="ExperienceGain" value="8000"/>
			
			<property name="LootDropEntityClass" value="EntityMarysRevengeBossLoot"/>
			<property name="LootDropProb" value="1"/>
			<effect_group name="Effects">
				<!--on death will set the final death trigger. This will stop any associated buffs, minion spawns etc-->
				<triggered_effect trigger="onOtherKilledSelf" action="AddBuff" target="other" buff="buff_marysRevengeFinalTrigger"/>
			</effect_group>
		</entity_class>
		
		<!--The Direwolf that protects the grave of Ipslore The Red (Mary's Revenge side quest).
			There is also a Dire Bear (animalZombieBear) defined below.-->
		<entity_class name="graveKeeperDireWolf" extends="animalWolf">
			<property name="UserSpawnType" value="Menu"/>
			<property name="EntityFlags" value="animal,zombie"/>
			<property name="Tags" value="entity,animal,zombie,hostile,wolf,perkAT02,perkAT03"/>
			<property name="PhysicsBody" value="AWolf"/>
			<property name="Mass" value="180"/>
			<property name="Prefab" value="@:Entities/Animals/DireWolf/animalDireWolfPrefab.prefab"/>
			<property name="PrefabCombined" value="true"/>
			<property name="SizeScale" value="1.5"/>
			<property name="DismemberMultiplierHead" value="0"/>

			<property name="AISeeOffset" value="1"/>
			<property name="AIPathCostScale" value=".9, 1"/>
			<property name="AIFeralSense" value="1.8"/>
			<property name="AITask-1" value="BreakBlock"/>
			<property name="AITask-2" value="Territorial"/>
			<property name="AITask-3" value="ApproachAndAttackTarget" data="class=EntityPlayer,200"/> 
			<property name="AITask-4" value="ApproachSpot"/>
			<property name="AITask-5" value=""/>
			<property name="AITarget-1" value="SetAsTargetIfHurt" data="class=EntityPlayer"/>
			<property name="AITarget-2" value="BlockingTargetTask"/>
			<property name="AITarget-3" value="SetNearestEntityAsTarget" data="class=EntityPlayer,100,100"/>
			<property name="AITarget-4" value=""/> 

			<property name="SoundAlert" value="wolfdirealert"/>
			<property name="SoundAttack" value="wolfdireattack"/>
			<property name="SoundDeath" value="wolfdiredeath"/>
			<property name="SoundgiveUp" value="wolfdiregiveup"/>
			<property name="SoundHurt" value="wolfdireroam"/> <!--no pain sounds, is a tough 'hell beast'-->
			<property name="SoundRandom" value="wolfdireroam"/>
			<property name="SoundSense" value="wolfdiresense"/>

			<!-- Gameplay  -->
			<property name="MoveSpeedAggro" value="1.2, 1.45"/>
			<property name="JumpMaxDistance" value="5.5, 6.5"/>
			<property name="HandItem" value="meleeHandAnimalDireWolf"/>
			<property name="Immunity" value="sickness;disease;wellness"/> <!-- bleeding; -->
			<property name="PainResistPerHit" value=".95"/>
			<property name="DeadBodyHitPoints" value="450"/>
						
			<property name="ExperienceGain" value="4000"/><!-- XP strong -->
			<property name="LootDropEntityClass" value="EntityLootContainerBoss"/>
			<property name="LootDropProb" value="0"/> <!-- No loot -->

			<drop event="Harvest" name="foodRawMeat" count="0" tool_category="Butcher"/>
			<drop event="Harvest" name="foodRottingFlesh" tag="butcherHarvest" count="15"/> <!-- animalDireWolf -->
			<drop event="Harvest" name="resourcePigeonMush" tag="butcherHarvest" count="3"/>
			<drop event="Harvest" name="resourceCultBone" tag="butcherHarvest" count="5"/>
			<drop event="Harvest" name="resourceCultBone" tag="allToolsHarvest" count="5"/>
			
			<effect_group name="Base Effects">
				<passive_effect name="HealthMax" operation="base_set" value="3000"/>
			</effect_group>

			<property name="NavObject" value="animaltracking_direwolf" />
		</entity_class>
		<!--The DireBear that protects the grave of Ipslore The Red (Mary's Revenge side quest).
			There is also a Dire Wolf (animalDireWolf) defined above.-->
		<entity_class name="graveKeeperDireBear" extends="animalBear">
			<property name="UserSpawnType" value="Menu"/>
			<property name="EntityFlags" value="animal,zombie"/>
			<property name="Tags" value="entity,animal,zombie,hostile,bear"/>
			<property name="Prefab" value="@:Entities/Animals/Bear/animalBearZombiePrefab.prefab"/>
			<property name="PrefabCombined" value="true"/>
			<property name="DismemberMultiplierHead" value="0"/>

			<property name="AISeeOffset" value="1"/>
			<property name="AIPathCostScale" value=".9, 1"/>
			<property name="AIFeralSense" value="1.8"/>
			<property name="AITask-1" value="BreakBlock"/>
			<property name="AITask-2" value="Territorial"/>
			<property name="AITask-3" value="ApproachAndAttackTarget" data="class=EntityPlayer,200"/> 
			<property name="AITask-4" value="ApproachSpot"/>
			<property name="AITask-5" value=""/>
			<property name="AITarget-1" value="SetAsTargetIfHurt" data="class=EntityPlayer"/>
			<property name="AITarget-2" value="BlockingTargetTask"/>
			<property name="AITarget-3" value="SetNearestEntityAsTarget" data="class=EntityPlayer,100,100"/>
			<property name="AITarget-4" value=""/> 

			<!-- Gameplay  -->
			<property name="HandItem" value="meleeHandAnimalZombieBear"/>
			<property name="DeadBodyHitPoints" value="600"/>

			<property name="ExperienceGain" value="6000"/><!-- XP strong -->
			<property name="LootDropEntityClass" value="EntityLootContainerBoss"/>
			<property name="LootDropProb" value="0"/> <!-- No loot drop -->

			<drop event="Harvest" name="foodRawMeat" count="0" tool_category="Butcher"/>
			<drop event="Harvest" name="foodRottingFlesh" tag="butcherHarvest" count="50"/> <!-- animalZombieBear -->
			<drop event="Harvest" name="resourceLeather" tag="butcherHarvest" count="15"/>
			<drop event="Harvest" name="resourceAnimalFat" tag="butcherHarvest" count="5"/>
			<drop event="Harvest" name="resourceCultBone" tag="butcherHarvest" count="25"/>
			<drop event="Harvest" name="resourceCultBone" tag="allToolsHarvest" count="5"/>
			<drop event="Harvest" name="resourcePigeonLice" tag="butcherHarvest" count="2"/>
			
			<effect_group name="Base Effects">
				<passive_effect name="HealthMax" operation="base_set" value="4000"/>
			</effect_group>
		</entity_class>
	</append>
	<!--end Mary's revenge code-->
	
	<append xpath="/entity_classes">	
		<!--pigeon carry diseases code-->
		<!--
			There are 3 or more 'pigeons'. Each pigeon is unique because each bag dropped is a one-off specific
			drop not random. The loot containers are defined first. Each container has its own lootbag (defined in loot.xml).
		-->
		<!--pigeon delivery drop code-->
		<!-- Loot bag for the first homing vulture/pigeon. 
			 EntityLootContainerHomingPigeon1 with lootbag homingPigeonDelivery1 (defined in loot.xml)-->
		<entity_class name="EntityHomingPigeon1">
			<property name="Class" value="EntityLootContainer"/>
			<property name="UserSpawnType" value="Console"/>
			<property name="Mesh" value="@:Entities/LootContainers/zpackRedPrefab.prefab"/>
			<property name="ModelType" value="Custom"/>
			<property name="Prefab" value="Backpack"/>
			<property name="Parent" value="Backpack"/>
			<property name="IsEnemyEntity" value="false"/>
			<property name="TimeStayAfterDeath" value="6000"/>
			<property name="Faction" value="none"/>
			<property name="LootListOnDeath" value="homingPigeonDelivery1"/>
		</entity_class>

		<!-- Loot bag for the second homing vulture/pigeon. 
			 EntityLootContainerHomingPigeon2 with lootbag homingPigeonDelivery2 (defined in loot.xml)-->
		<entity_class name="EntityHomingPigeon2">
			<property name="Class" value="EntityLootContainer"/>
			<property name="UserSpawnType" value="Console"/>
			<property name="Mesh" value="@:Entities/LootContainers/zpackRedPrefab.prefab"/>
			<property name="ModelType" value="Custom"/>
			<property name="Prefab" value="Backpack"/>
			<property name="Parent" value="Backpack"/>
			<property name="IsEnemyEntity" value="false"/>
			<property name="TimeStayAfterDeath" value="6000"/>
			<property name="Faction" value="none"/>
			<property name="LootListOnDeath" value="homingPigeonDelivery2"/>
		</entity_class>
		
		<!-- Loot bag for the third homing vulture/pigeon. 
			 EntityLootContainerHomingPigeon3 with lootbag homingPigeonDelivery3 (defined in loot.xml)-->
		<entity_class name="EntityHomingPigeon3">
			<property name="Class" value="EntityLootContainer"/>
			<property name="UserSpawnType" value="Console"/>
			<property name="Mesh" value="@:Entities/LootContainers/zpackRedPrefab.prefab"/>
			<property name="ModelType" value="Custom"/>
			<property name="Prefab" value="Backpack"/>
			<property name="Parent" value="Backpack"/>
			<property name="IsEnemyEntity" value="false"/>
			<property name="TimeStayAfterDeath" value="6000"/>
			<property name="Faction" value="none"/>
			<property name="LootListOnDeath" value="homingPigeonDelivery3"/>
		</entity_class>
		<!-- Loot bag for the fourth homing vulture/pigeon. 
			 EntityLootContainerHomingPigeon4 with lootbag homingPigeonDelivery4 (defined in loot.xml)-->
		<entity_class name="EntityHomingPigeon4">
			<property name="Class" value="EntityLootContainer"/>
			<property name="UserSpawnType" value="Console"/>
			<property name="Mesh" value="@:Entities/LootContainers/zpackRedPrefab.prefab"/>
			<property name="ModelType" value="Custom"/>
			<property name="Prefab" value="Backpack"/>
			<property name="Parent" value="Backpack"/>
			<property name="IsEnemyEntity" value="false"/>
			<property name="TimeStayAfterDeath" value="6000"/>
			<property name="Faction" value="none"/>
			<property name="LootListOnDeath" value="homingPigeonDelivery4"/>
		</entity_class>
		<!--end pigeon delivery drop code-->
		
		<!-- Loot bag for the final boss 'pigeonFinalBoss' in this file. -->
		<entity_class name="EntityPigeonBossLoot">
			<property name="Class" value="EntityLootContainer"/>
			<property name="Tags" value="trackingPigeonBossLoot"/> 
			<property name="UserSpawnType" value="Console"/>
			<property name="Mesh" value="@:Entities/LootContainers/zpackRedPrefab.prefab"/>
			<property name="ModelType" value="Custom"/>
			<property name="Prefab" value="Backpack"/>
			<property name="Parent" value="Backpack"/>
			<property name="IsEnemyEntity" value="false"/>
			<property name="TimeStayAfterDeath" value="6000"/>
			<property name="Faction" value="none"/>
			<property name="LootListOnDeath" value="pigeonFinalBossLoot"/>
			<property name="NavObject" value="lootbagTrackingFinalPigeon" />
		</entity_class>
		
		<!-- Homing pigeon/vulture base class/template and derived classes-->
		
		<!-- Template as there needs to be a different pigeon defined for each different note delivery-->
		<!--basic pigeon-->
		<!-- Template as there needs to be a different pigeon defined for each different note delivery-->
		<entity_class name="basicPigeonTemplate" extends="animalZombieVulture">
			<property name="UserSpawnType" value="Menu"/>
			<property name="Tags" value="entity,animal,zombie,hostile,vulture,pigeon"/>
			
			<property name="Mass" value="25"/> <!--35-->
			<property name="SizeScale" value="0.40"/> <!--0.7-->
			<!--<property name="ParticleOnSpawn" value="@:ParticleEffects/RadiatedParticlesOnMesh.prefab" param1="SetShapeToMesh0"/>-->
			<property name="MoveSpeed" value="1"/><!--1-->
			<property name="MoveSpeedAggro" value="2.3, 2.3"/> <!--2.1,2.1-->
			<property name="MaxTurnSpeed" value="220"/> <!--190-->
			<property name="ExperienceGain" value="5000"/> <!--extra experience-->
			<property name="AIFeralSense" value="1.6"/>
			<property name="AITask-1" value="BreakBlock"/>
			<property name="AITask-2" value="Territorial"/>
			<property name="AITask-3" value="ApproachAndAttackTarget" data="class=EntityPlayer,200"/> 
			<property name="AITask-4" value="ApproachSpot"/>
			<property name="AITask-5" value=""/>
			<property name="AITarget-1" value="SetAsTargetIfHurt" data="class=EntityPlayer"/>
			<property name="AITarget-2" value="BlockingTargetTask"/>
			<property name="AITarget-3" value="SetNearestEntityAsTarget" data="class=EntityPlayer,100,100"/>
			<property name="AITarget-4" value=""/>
			
			<property name="DeadBodyHitPoints" value="120"/> <!--175-->
			

			<effect_group name="Base Effects">
				<!--weaker than regular vulture - not supposed to be a fighting enemy - just a note delivery pigeon-->
				<passive_effect name="HealthMax" operation="base_set" value="15"/> <!--30-->
				<!--can use death trigger for something else as well maybe, code left for fiddling-->
				<!--<triggered_effect trigger="onOtherKilledSelf" action="AddBuff" target="self" buff="buff"/>-->
			</effect_group>
	
		</entity_class>
		
		<!--homing pigeon template. the homing pigeons are individual pigeons and each has its own loot drop.-->
		<entity_class name="homingPigeonTemplate" extends="basicPigeonTemplate">
			<!--default lootdrop - should be overidden by different pigeons-->
			<property name="LootDropEntityClass" value="EntityHomingPigeon1"/>
			<!--homing pigeons have a particle effect on them so they are noticable to the player-->
			<property name="LootDropProb" value="1"/>
			<effect_group>
				<triggered_effect trigger="onSelfFirstSpawn" action="AttachParticleEffectToEntity" particle="RadiatedParticlesOnMesh" local_offset="0,0,0" parent_transform="LOD0" shape_mesh="true"/>
			</effect_group>
		</entity_class>
		
		<!-- Pigeon to drop the first delivery package
			 Need a different pigeon defined for each different delivery drop-->
		<entity_class name="animalHomingPigeonOne" extends="homingPigeonTemplate">
			<property name="LootDropEntityClass" value="EntityHomingPigeon1"/> 
			<drop event="Harvest" name="foodRawMeat" count="0" tool_category="Butcher"/>
			<drop event="Harvest" name="foodRottingFlesh" tag="butcherHarvest" count="2"/> 
			<drop event="Harvest" name="resourceFeather" tag="butcherHarvest" count="15"/>
			<drop event="Harvest" name="resourceBone" tag="butcherHarvest" count="3"/>
			<drop event="Harvest" name="resourceBone" tag="allToolsHarvest" count="2"/>
			<drop event="Harvest" name="resourcePigeonPoop" tag="allToolsHarvest" count="4"/>
		</entity_class>
		<!-- Second pigeon with next delivery package -->
		<entity_class name="animalHomingPigeonTwo" extends="homingPigeonTemplate">
			<property name="LootDropEntityClass" value="EntityHomingPigeon2"/>
			<drop event="Harvest" name="foodRawMeat" count="0" tool_category="Butcher"/>
			<drop event="Harvest" name="foodRottingFlesh" tag="butcherHarvest" count="2"/> 
			<drop event="Harvest" name="resourceFeather" tag="butcherHarvest" count="15"/>
			<drop event="Harvest" name="resourceBone" tag="butcherHarvest" count="3"/>
			<drop event="Harvest" name="resourceBone" tag="allToolsHarvest" count="2"/>
			<drop event="Harvest" name="resourcePigeonLice" tag="allToolsHarvest" count="3"/>
		</entity_class>
		<!-- third pigeon with next delivery package -->
		<entity_class name="animalHomingPigeonThree" extends="homingPigeonTemplate">
			<property name="LootDropEntityClass" value="EntityHomingPigeon3"/>
			<drop event="Harvest" name="foodRawMeat" count="0" tool_category="Butcher"/>
			<drop event="Harvest" name="foodRottingFlesh" tag="butcherHarvest" count="2"/> 
			<drop event="Harvest" name="resourceFeather" tag="butcherHarvest" count="15"/>
			<drop event="Harvest" name="resourceBone" tag="butcherHarvest" count="3"/>
			<drop event="Harvest" name="resourceBone" tag="allToolsHarvest" count="2"/>
		</entity_class>
		<!-- Fourth pigeon with next delivery package -->
		<entity_class name="animalHomingPigeonFour" extends="homingPigeonTemplate">
			<property name="LootDropEntityClass" value="EntityHomingPigeon4"/>
			<drop event="Harvest" name="foodRawMeat" count="0" tool_category="Butcher"/>
			<drop event="Harvest" name="foodRottingFlesh" tag="butcherHarvest" count="2"/> 
			<drop event="Harvest" name="resourceFeather" tag="butcherHarvest" count="15"/>
			<drop event="Harvest" name="resourceBone" tag="butcherHarvest" count="3"/>
			<drop event="Harvest" name="resourceBone" tag="allToolsHarvest" count="2"/>
			<drop event="Harvest" name="resourcePigeonMush" tag="allToolsHarvest" count="2"/>
		</entity_class>
		
		<!-- This is for a flock of pigeons - they dont drop anything - used for the final chapter of the story-->
		<entity_class name="animalPigeonFlock" extends="basicPigeonTemplate">
			<property name="ExperienceGain" value="500"/> <!--there's a flock so reduced xp per bird-->
			<property name="SizeScale" value="0.3"/> <!--smaller than regular pigeon-->
		</entity_class>
		<!-- End Homing pigeon/vulture base class/template and derived classes-->
		
		<!--the final Pigeons Carry Diseases Boss-->
		<entity_class name="pigeonFinalBoss" extends="zombieTemplateMale">
			<property name="UserSpawnType" value="Menu"/>
			<!--tag for red-dot tracking--> 
			<property name="Tags" value="entity,zombie,walker,feral,radiated,trackingPigeonBoss"/> 
			<property name="NavObject" value="bossTrackingFinalPigeon" />
			<property name="Mesh" value="@:Entities/Zombies/TomClark/ZTomClark.prefab"/><!--tom's skin-->
			<property name="AltMats" value="@:Entities/Zombies/TomClark/Materials/HD_TomClark2.mat,@:Entities/Zombies/TomClark/Materials/HD_TomClark3.mat"/>
	
			<!--<property name="ParticleOnSpawn" value="@:ParticleEffects/RadiatedParticlesOnMesh.prefab" param1="SetShapeToMesh0"/>-->
			<!--Sounds like a pigeon-->
			<property name="SoundRandom" value="Animals/Vulture/vultureroam"/>
			<property name="SoundAlert" value="Animals/Vulture/vulturealert"/>
			<property name="SoundHurt" value="Animals/Vulture/vulturepain"/>
			<property name="SoundDeath" value="Animals/Vulture/vulturedeath"/>
			<property name="SoundAttack" value="Animals/Vulture/vultureattack"/>
			<property name="SoundSense" value="Animals/Vulture/vulturesense"/>
			<property name="SoundgiveUp" value="Animals/Vulture/vulturegiveup"/>
	
			<property name="SoundFootstepModifier" value="Animals/Bear/bear_footstep"/>   <!--same as hawaiian-->
			<property name="ModelType" value="Standard"/>
			<property name="WalkType" value="2"/>  <!--wight walk type-->
			<property name="Mass" value="250"/>
			<property name="PhysicsBody" value="zombieFat"/>
			<property name="RootMotion" value="true"/>
			<property name="HasDeathAnim" value="true"/>

			<property name="SizeScale" value="1.15"/>
			<property name="LegCrawlerThreshold" value="0"/>
			<property name="LegCrippleThreshold" value="0"/>
			<property name="KnockdownProneDamageThreshold" value="0"/>
			<property name="KnockdownKneelDamageThreshold" value="0"/>
	
			<property name="LegsExplosionDamageMultiplier" value=".5"/>
			<property name="ArmsExplosionDamageMultiplier" value=".5"/>
			<property name="HeadExplosionDamageMultiplier" value=".5"/>
			<property name="ChestExplosionDamageMultiplier" value=".5"/>
			
			<property name="AIFeralSense" value="1.8"/>
			<property name="AITask-1" value="BreakBlock"/>
			<property name="AITask-2" value="Territorial"/>
			<property name="AITask-3" value="ApproachAndAttackTarget" data="class=EntityPlayer,200"/> 
			<property name="AITask-4" value="ApproachSpot"/>
			<property name="AITask-5" value=""/>
			<property name="AITarget-1" value="SetAsTargetIfHurt" data="class=EntityPlayer"/>
			<property name="AITarget-2" value="BlockingTargetTask"/>
			<property name="AITarget-3" value="SetNearestEntityAsTarget" data="class=EntityPlayer,100,100"/>
			<property name="AITarget-4" value=""/> 
	 
			<property name="DismemberMultiplierHead" value=".4"/>
			<property name="DismemberMultiplierArms" value=".4"/>
			<property name="DismemberMultiplierLegs" value=".4"/><!-- Radiated -->
			<property name="PainResistPerHit" value=".9"/><!-- Radiated -->
			<property name="HandItem" value="meleeHandZombieCopRadiated"/> <!--cop hands-->
			<property name="ExperienceGain" value="8000"/><!-- XP strong radiated -->
			<property name="LootDropEntityClass" value="EntityPigeonBossLoot"/>
			<property name="LootDropProb" value="1"/>
			<property name="MoveSpeedAggro" value="0.6, 1.45"/> <!-- fit, feral -->
			<property name="JumpMaxDistance" value="4.6, 5"/>
			<effect_group name="Base Effects">
				<passive_effect name="HealthMax" operation="base_set" value="3000"/> 
				<passive_effect name="BlockDamage" operation="perc_add" value="0.50"/>
				
				<!--<passive_effect name="EntityDamage" operation="perc_add" value="0"/>--> <!-- Feral damage -->
				<triggered_effect trigger="onOtherDamagedSelf" action="ModifyCVar" target="self" cvar="RadiatedRegenAmount" operation="set" value="9"/>
				<triggered_effect trigger="onOtherDamagedSelf" action="AddBuff" target="self" buff="buffRadiatedRegen"/>		
			</effect_group>
				
			<effect_group>
				<triggered_effect trigger="onSelfFirstSpawn" action="ModifyCVar" target="self" cvar="EntityBoss" operation="set" value="1"/>
				<triggered_effect trigger="onSelfFirstSpawn" action="AttachParticleEffectToEntity" particle="RadiatedParticlesOnMesh" local_offset="0,0,0" parent_transform="Head" shape_mesh="false"/>
			</effect_group>
		</entity_class>
		
		<!--end pigeon carry diseases code-->

		<!-- Interloper  code-->
		<!--airdrop entity for the secret supply drop-->
		<entity_class name="interloperSecretDrop">
			<property name="Class" value="EntitySupplyCrate"/>
			<property name="Parent" value="SupplyCrates"/>
			<property name="Prefab" value="SupplyCrate"/>
			<property name="Mesh" value="@:Entities/SupplyCrate/SupplyCrateEntityPrefab.prefab"/>
			<property name="ModelType" value="SupplyCrate"/>
			<property name="TintColor" value="00a9FF"/>
			<property name="Faction" value="none"/>
			<property name="MaxHealth" value="1200"/>
			<property name="Weight" value="100"/>
			<property name="HasRagdoll" value="false"/>
			<property name="SurfaceCategory" value="wood"/>
			<property name="ParticleOnDeath" value="supply_crate_gib_Prefab"/>
			<property name="LootListAlive" value="interloperSecretDrop"/>
			<property name="IsEnemyEntity" value="false"/>
			<property name="SoundParachuteOpen" value="SupplyDrops/Parachute_Opens"/>
			<property name="SoundLanding" value="SupplyDrops/Supply_Crate_Land"/>
			<property name="TimeStayAfterDeath" value="0"/>
			<effect_group name="Base Effects">
				<passive_effect name="HealthMax" operation="base_set" value="1200"/>
			</effect_group>
			<property name="NavObject" value="supply_drop" />
			<!-- If set this entity shows on the map -->
			<property name="MapIcon" value="map_supply_crate"/> 
		</entity_class>
		<!--end airdrop entity for the secret supply drop-->
	
		<!--supply drop entity for the interloper epilogue magazine-for-books trade drop-->
		<entity_class name="interloperTradeDrop">
			<property name="Class" value="EntitySupplyCrate"/>
			<property name="Parent" value="SupplyCrates"/>
			<property name="Prefab" value="SupplyCrate"/>
			<property name="Mesh" value="@:Entities/SupplyCrate/SupplyCrateEntityPrefab.prefab"/>
			<property name="ModelType" value="SupplyCrate"/>
			<property name="TintColor" value="00a9FF"/>
			<property name="Faction" value="none"/>
			<property name="MaxHealth" value="1200"/>
			<property name="Weight" value="100"/>
			<property name="HasRagdoll" value="false"/>
			<property name="SurfaceCategory" value="wood"/>
			<property name="ParticleOnDeath" value="supply_crate_gib_Prefab"/>
			<property name="LootListAlive" value="interloperTradeDrop"/>
			<property name="IsEnemyEntity" value="false"/>
			<property name="SoundParachuteOpen" value="SupplyDrops/Parachute_Opens"/>
			<property name="SoundLanding" value="SupplyDrops/Supply_Crate_Land"/>
			<property name="TimeStayAfterDeath" value="0"/>
			<effect_group name="Base Effects">
				<passive_effect name="HealthMax" operation="base_set" value="1200"/>
			</effect_group>
			<property name="NavObject" value="supply_drop" />
			<!-- If set this entity shows on the map -->
			<property name="MapIcon" value="map_supply_crate"/> 
		</entity_class>
		<!--end airdrop entity for the secret supply drop-->
		
		<!--begin shortwave radio interface THIS CODE IS TEST CODE - NOT IMPLEMENTED YET -->
		<!-- The player will need to build a short wave radio at some point in the story.
			The shortwave radio is actually a trader underneath so the interaction between the 
			Player and their Clan out East can have some interaction-->
		<entity_class name="entityCommsInterface">
			<property name="Class" value="EntityTrader"/>
			<property name="UserSpawnType" value="Menu"/>
			<property name="Tags" value="entity,npc,trader"/>
			<property name="Parent" value="NPC"/>
			<!--<property name="Mesh" value="@:Other/Items/Weapons/Ranged/Junk Drone/junkDrone_Prefab.prefab"/>-->
			<property name="Mesh" value="@:Entities/LootContainers/shippingCrateShotgunPrefab.prefab"/>
			<property name="Prefab" value="NPC"/>
			<property name="ModelType" value="Custom"/>
			<property name="SurfaceCategory" value="metal"/>
			<property name="SizeScale" value="0.25"/>

			<property name="LootListAlive" value="roboticDrone"/>	
			<property name="TimeStayAfterDeath" value="3600"/>	
			<property name="IsEnemyEntity" value="false"/>
			<property name="Faction" value="none"/>
			<property name="NPCID" value="NPCCommsInterface"/>
			<property name="MapIcon" value="ui_game_symbol_map_player_arrow"/>
			<property name="NavObject" value="NOJunkDrone" />
			
			<!--added-->
			<property name="Weight" value="70"/>
			<property name="EntityType" value="Player"/>
			<!-- end added-->
			
			<property name="MaxDistance" value="15"/>
			<property name="RaySpread" value="5"/>
			
			<property name="BurstRoundCount" value="3"/>
			<property name="BurstFireRate" value="0.2"/>
			<property name="CooldownTime" value="1"/>
			<property name="EntityDamage" value="5"/>

			<property name="StunActionTime" value="1"/>
			<property name="StunCooldown" value="14"/>
			<property name="HealActionTime" value="2"/>
			<property name="HealCooldown" value="15"/>
			<property name="HealDamageThreshold" value="50"/>

			<effect_group>
				<passive_effect name="HealthMax" operation="base_set" value="100"/>
				<passive_effect name="StaminaMax" operation="base_set" value="100"/>
				<passive_effect name="WaterMax" operation="base_set" value="100"/>
				<passive_effect name="BuffResistance" operation="base_set" value="1" tags="buffFatiguedTrigger,buffArmSprainedCHTrigger,buffLegSprainedCHTrigger,buffLaceration,buffInfectionCatch,buffAbrasionCatch,buffInjuryStunned01CHTrigger,buffInjuryBleedingOne,buffInjuryBleedingTwo,buffInjuryBleeding,buffBurningZombie,buffBurningElement,buffBurningEnvironment,buffBurningEnvironmentHack,buffBurningFlamingArrow,buffBurningMolotov,buffIsOnFire,buffShocked,buffPerkCharismaticNature,buffRadiationPool"/>
			</effect_group>
		  
		</entity_class>


		<entity_class name="npcCommsTemplate">
			<property name="Class" value="EntityTrader"/>
			<property name="UserSpawnType" value="None"/>
			<property name="Tags" value="entity,npc,human"/>
			<property name="EntityType" value="Player"/>
			<property name="Faction" value="trader"/>
			<property name="Mesh" value="Player/Male/player_maleRagdoll"/>
			<!--<property name="AvatarController" value="AvatarNpcController"/>-->
			<!--<property name="ModelType" value="Npc"/>-->
			<property name="ModelType" value="Custom"/>
			<property name="HasRagdoll" value="false"/>
			<property name="Prefab" value="Item"/>
			<!--<property name="Prefab" value="NPC"/>-->
			<property name="Parent" value="Misc"/>
			<!--<property name="Parent" value="Players"/>-->
			<!--<property name="PhysicsBody" value="Player"/>-->
			<property name="Weight" value="70"/>
			<property name="LookAtAngle" value="60"/>
			
			<property name="MaxViewAngle" value="180"/>
			
			<property name="LootListAlive" value="traderNPC"/>
			<property name="ExperienceGain" value="130"/>
			<property name="TimeStayAfterDeath" value="30"/>
			<property name="DeadBodyHitPoints" value="251"/>

			<property name="NavObject" value="trader" />

			<effect_group name="Base Effects">
				<passive_effect name="HealthMax" operation="base_set" value="10"/>
			</effect_group>
		</entity_class>
		
		<!--
	
		<entity_class name="npcCommsTemplate">
			<property name="Class" value="EntityTrader"/>
			<property name="UserSpawnType" value="None"/>
			<property name="Tags" value="entity,npc,human"/>
			<property name="EntityType" value="Player"/>
			<property name="Faction" value="trader"/>
			<property name="Mesh" value="Player/Male/player_maleRagdoll"/>
			<property name="AvatarController" value="AvatarNpcController"/>
			<property name="ModelType" value="Npc"/>
			<property name="HasRagdoll" value="false"/>
			<property name="Prefab" value="NPC"/>
			<property name="Parent" value="Players"/>
			<property name="PhysicsBody" value="Player"/>
			<property name="Weight" value="70"/>
			<property name="LookAtAngle" value="60"/>

			<property name="AITask-1" value="ApproachAndAttackTarget" data="class=EntityAlive"/>
			<property name="AITarget-1" value="SetAsTargetIfHurt" data="class=EntityAlive"/>

			<property name="NPCID" value="traderric"/>
			<property name="IsEnemyEntity" value="true"/>
			<property name="WalkType" value="7"/>
			<property name="SurfaceCategory" value="organic"/>
			<property name="ParticleOnDeath" value="blood_death"/>
			<property name="HasDeathAnim" value="true"/>
			<property name="SoundRandomTime" value="200.0"/>
			<property name="Archetype" value="TraderJoel"/>
			<property name="SoundHurt" value="Player_Male/player1painlg"/>
			<property name="SoundHurtSmall" value="Player_Male/player1painsm"/>
			<property name="SoundDeath" value="Player_Male/player1death"/>
			<property name="SoundStamina" value="Player_Male/player1stamina"/>
			<property name="SoundDrownPain" value="Player_Male/player1drownpain"/>
			<property name="SoundWaterSurface" value="Player_Male/player1drownsurface"/>
			<property name="SoundDrownDeath" value="Player_Male/player1drowndeath"/>
			<property name="SoundJump" value="Player_Male/player1Jump"/>
			<property name="SoundLandSoft" value="Player_Male/player1LandSoft"/>
			<property name="SoundLandHard" value="Player_Male/player1LandHard"/>
			<property name="SoundPlayerLandThump" value="PlayerLandThump"/>
			
			<property name="MaxViewAngle" value="180"/>

			<property name="LootListAlive" value="traderNPC"/>

			<property name="MoveSpeed" value="0.75"/>
			<property name="MoveSpeedAggro" value="1.15, 1.15"/>
			<property name="MoveSpeedPanic" value="1.35"/>
			<property name="CanClimbLadders" value="true"/>

			
			<property name="ExperienceGain" value="130"/>
			<property name="TimeStayAfterDeath" value="30"/>
			<property name="DeadBodyHitPoints" value="251"/>

			<property name="NavObject" value="trader" />

			<effect_group name="Base Effects">
				<passive_effect name="HealthMax" operation="base_set" value="100000"/>
				<passive_effect name="BuffResistance" operation="base_set" value="1" tags="buffFatiguedTrigger,buffArmSprainedCHTrigger,buffLegSprainedCHTrigger,buffLaceration,buffInfectionCatch,buffAbrasionCatch,buffInjuryStunned01CHTrigger,buffInjuryBleedingOne,buffInjuryBleedingTwo,buffInjuryBleeding,buffBurningZombie,buffBurningElement,buffBurningEnvironment,buffBurningEnvironmentHack,buffBurningFlamingArrow,buffBurningMolotov,buffIsOnFire,buffShocked,buffRadiationPool"/>
			</effect_group>
		</entity_class>
		-->
		<!--<entity_class name="npcCommsInterface" extends="npcCommsTemplate">
			<property name="UserSpawnType" value="Menu"/>
			<property name="Tags" value="entity,npc,human,trader"/>
			<property name="Mesh" value="@:Entities/Traders/Prefabs/TraderJoel.prefab"/>
			<property name="NPCID" value="traitorjoel"/>
			<property name="DanceType" value="1" />
		</entity_class>
		-->

		<entity_class name="npcCommsInterface" extends="npcCommsTemplate">
			<property name="UserSpawnType" value="Menu"/>
			<property name="Tags" value="entity,npc,trader"/>
			<property name="Mesh" value="@:Entities/Traders/Prefabs/TraderJoel.prefab"/>
			<!--<property name="Mesh" value="@:Entities/Zombies/Prefabs/ZScreamerFeral.prefab"/>-->
			<property name="NPCID" value="NPCCommsInterface"/>
			<property name="DanceType" value="1" />
		</entity_class>
		
		<!--END shortwave radio interface TEST CODE-->
		
		
	</append>
	<!-- END Interloper  code-->
	
	<!--END Grim Tales code-->
 </configs>